# åå° Demo å¼€å‘è¯´æ˜ï¼ˆJoincom Admin Demoï¼‰

## ğŸ“˜ é¡¹ç›®ç®€ä»‹

æœ¬ä»“åº“ä¸º Joincom Admin åå° Demoï¼ˆP0â€“P3 å…¨åŸŸï¼‰ï¼ŒåŒ…å«ï¼š

* **åç«¯æœåŠ¡**ï¼šNode.js + NestJS + Prismaï¼ˆPostgreSQLï¼‰ã€‚
* **å‰ç«¯åº”ç”¨**ï¼šVite + Vue3ï¼ˆæˆ– Reactï¼‰+ Tailwind + TypeScriptã€‚
* **æ¥å£å¥‘çº¦**ï¼šOpenAPI 3.0ï¼ˆå¸¦ Mock æœåŠ¡ï¼‰ã€‚
* **è®¾è®¡ç³»ç»Ÿ**ï¼šFigma é«˜ä¿çœŸ â†’ design tokens â†’ å¯æ‰§è¡Œè®¾è®¡å¥‘çº¦ã€‚
* **è‡ªåŠ¨åŒ–æµ‹è¯•**ï¼šPlaywrightï¼ˆè§†è§‰å›å½’ï¼‰+ Jestï¼ˆå•æµ‹ï¼‰+ CI/CDã€‚

ç›®æ ‡æ˜¯è®© Codex èƒ½åœ¨æœ¬åœ°å®Œæˆï¼šæ¥å£ã€é¡µé¢ã€æ ·å¼ä¸äº¤äº’å¼€å‘ï¼Œå¹¶ä¿è¯è§†è§‰ä¸äº¤äº’ç¬¦åˆè§„èŒƒã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
repo/
â”œâ”€ apps/                     # åº”ç”¨å±‚
â”‚  â”œâ”€ api/                   # åç«¯æœåŠ¡ (NestJS + Prisma)
â”‚  â””â”€ admin-web/             # å‰ç«¯ç®¡ç†åå° (Vite + Vue3/React)
â”‚
â”œâ”€ openapi/                  # OpenAPI å¥‘çº¦å®šä¹‰ä¸ Mock æœåŠ¡
â”‚  â”œâ”€ openapi.yaml
â”‚  â”œâ”€ paths/**
â”‚  â”œâ”€ components/schemas/**
â”‚  â””â”€ mock.prism.yaml
â”‚
â”œâ”€ mocks/                    # API ç¤ºä¾‹æ•°æ®
â”‚
â”œâ”€ specs/                    # é¡µé¢è§„æ ¼ï¼ˆæ¯é¡µ 20 é¡¹æ ‡å‡†ï¼‰
â”‚  â””â”€ pages/**
â”‚
â”œâ”€ design/                   # è®¾è®¡æºä¸å¥‘çº¦
â”‚  â”œâ”€ tokens/tokens.json
â”‚  â””â”€ pages/<page-key>/design-contract.yaml
â”‚
â”œâ”€ tests/                    # e2e + è§†è§‰å›å½’
â”‚  â”œâ”€ visual/
â”‚  â””â”€ e2e/
â”‚
â”œâ”€ scripts/                  # å·¥å…·è„šæœ¬
â”‚  â”œâ”€ demo-reset.sh          # ä¸€é”®é‡ç½®æ•°æ®åº“ + å¯åŠ¨ Mock
â”‚  â””â”€ lint-design.js         # æ£€æŸ¥æ˜¯å¦åªç”¨ tokens
â”‚
â”œâ”€ CODEx_HANDOFF.md          # Codex æ¥æ‰‹å¼€å‘è¯´æ˜ä¸ Prompt æ¨¡æ¿
â”œâ”€ docker-compose.yml        # æœ¬åœ°æ•°æ®åº“ + MinIO
â”œâ”€ package.json              # è„šæœ¬ä¸ä¾èµ–
â”œâ”€ Makefile                  # å¸¸ç”¨å‘½ä»¤å°è£…
â”œâ”€ .env.example              # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€ README.md                 # æœ¬æ–‡ä»¶
```

---

## ğŸ§© ç¯å¢ƒè¦æ±‚

| å·¥å…·                      | ç‰ˆæœ¬     | è¯´æ˜                  |
| ----------------------- | ------ | ------------------- |
| Node.js                 | â‰¥ 20   | ä¸»è¿è¡Œç¯å¢ƒ               |
| pnpm                    | â‰¥ 9    | åŒ…ç®¡ç†å™¨                |
| Docker / Docker Compose | latest | å¯åŠ¨ Postgres + MinIO |
| PostgreSQL              | â‰¥ 14   | æœ¬åœ°æ•°æ®åº“               |
| Python                  | â‰¥ 3.11 | è„šæœ¬ä¾èµ–ï¼ˆé€‰ç”¨ï¼‰            |

---

##âš™ï¸ å¿«é€Ÿå¯åŠ¨

```bash
# å…‹éš†ä»“åº“å¹¶å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨æœ¬åœ°æ•°æ®åº“ä¸å¯¹è±¡å­˜å‚¨
docker compose up -d

# å¯åŠ¨ OpenAPI Mock æœåŠ¡
pnpm run mock   # http://localhost:4010

# å¯åŠ¨åç«¯ API æœåŠ¡
pnpm --filter api dev   # http://localhost:8080

# å¯åŠ¨å‰ç«¯ Web åº”ç”¨
pnpm --filter admin-web dev   # http://localhost:5173

# è¿è¡Œ E2E æµ‹è¯•
pnpm --filter admin-web test:e2e
```

---

## ğŸ§± æŠ€æœ¯æ ˆ

| å±‚çº§    | æŠ€æœ¯                        | è¯´æ˜                      |
| ----- | ------------------------- | ----------------------- |
| å‰ç«¯    | Vite + Vue3 (æˆ– React)     | å¿«é€Ÿå¼€å‘ã€ç»„ä»¶åŒ–ã€Tokené©±åŠ¨æ ·å¼      |
| åç«¯    | NestJS + Prisma           | æ¨¡å—åŒ–æœåŠ¡ï¼ŒORM ç®¡ç† PostgreSQL |
| æ•°æ®åº“   | PostgreSQL                | ä¸»ä¸šåŠ¡æ•°æ®å­˜å‚¨                 |
| å­˜å‚¨    | MinIO                     | æ¨¡æ‹Ÿå¯¹è±¡å­˜å‚¨ï¼ˆä¸Šä¼ ç­–ç•¥ä¸å›¾ç‰‡ï¼‰         |
| å¥‘çº¦    | OpenAPI 3.0 + Prism       | ç»Ÿä¸€æ¥å£å¥‘çº¦ä¸ Mock ç”Ÿæˆ         |
| è®¾è®¡    | Style Dictionary + Tokens | å¤šç«¯ç»Ÿä¸€è®¾è®¡ä½“ç³»                |
| æµ‹è¯•    | Playwright + Jest         | åŠŸèƒ½ä¸è§†è§‰å›å½’                 |
| CI/CD | GitHub Actions            | è‡ªåŠ¨æ„å»ºã€æµ‹è¯•ã€æ‰“åŒ…              |

---

## ğŸ§­ å¼€å‘é˜¶æ®µï¼ˆå»ºè®®æµç¨‹ï¼‰

1. **å‡†å¤‡ç¯å¢ƒ**ï¼šå®‰è£…ä¾èµ–ã€è¿è¡Œ docker-composeã€‚
2. **éªŒè¯ Mock**ï¼š`pnpm run mock` æ‰“å¼€ [http://localhost:4010ã€‚](http://localhost:4010ã€‚)
3. **å¯åŠ¨åç«¯**ï¼š`pnpm --filter api dev` æ‰“å¼€ [http://localhost:8080/healthzã€‚](http://localhost:8080/healthzã€‚)
4. **å¯åŠ¨å‰ç«¯**ï¼š`pnpm --filter admin-web dev`ã€‚
5. **é¡µé¢å¼€å‘é¡ºåº**ï¼šæŒ‰ specs/pages ä¸­ P0â€“P3 é¡ºåºé€é¡µå®Œæˆã€‚
6. **è§†è§‰æ¯”å¯¹**ï¼šè¿è¡Œ `pnpm test:visual` æ ¡éªŒåƒç´ ä¸€è‡´æ€§ã€‚
7. **é›†æˆæµ‹è¯•**ï¼šè¿è¡Œ e2e æµ‹è¯•ã€‚

---

## ğŸ§  è®¾è®¡é©±åŠ¨åŸåˆ™

* åªèƒ½ä½¿ç”¨ `design/tokens/tokens.json` æ´¾ç”Ÿå˜é‡ï¼ˆç¦æ­¢å†™æ­»æ ·å¼å€¼ï¼‰ã€‚
* æ¯é¡µä¸¥æ ¼éµå®ˆ `design/pages/<page-key>/design-contract.yaml` çº¦æŸã€‚
* å¿…é¡»é€šè¿‡è§†è§‰å›å½’æµ‹è¯•ï¼ˆå·®å¼‚ â‰¤ 1.5%ï¼‰ã€‚
* ARIA æ— éšœç¢é€šè¿‡åŸºæœ¬é”®ç›˜å¯¼èˆªä¸æ ‡ç­¾ã€‚

---

## ğŸ§© Codex æ¥æ‰‹è¯´æ˜

Codex å°†æŒ‰ä»¥ä¸‹æµç¨‹è‡ªåŠ¨åŒ–å¼€å‘ï¼š

1. è¯»å– `CODEx_HANDOFF.md` ä¸­ä»»åŠ¡æ¨¡æ¿ã€‚
2. è¯»å– `specs/pages/**/README.md` ä¸ `design/pages/**/design-contract.yaml`ã€‚
3. ä½¿ç”¨ `openapi/` å¥‘çº¦ç”Ÿæˆ SDK å¹¶å¯¹æ¥ Mockã€‚
4. è‡ªåŠ¨ç”Ÿæˆ/æ›´æ–°é¡µé¢ä»£ç ï¼Œè¿è¡Œ `lint + test:visual`ã€‚
5. è¿”å›æ–‡ä»¶å˜æ›´ä¸éªŒè¯ç»“æœã€‚

---

## ğŸ“¦ ä¸€é”®é‡ç½®ä¸æ¼”ç¤º

```bash
./scripts/demo-reset.sh
# è‡ªåŠ¨æ‰§è¡Œï¼š
# 1. é‡å»ºæ•°æ®åº“ (dropdb + migrate + seed)
# 2. å¯åŠ¨ Mock + API + Web
# 3. æ‰“å¼€å‰ç«¯å¹¶åŠ è½½ Demo æ•°æ®
```

---

## ğŸ§¾ æˆæƒä¸ç‰ˆæƒ

æœ¬ä»“åº“ä»…ç”¨äº Joincom å†…éƒ¨ç ”å‘ä¸æ¼”ç¤ºç”¨é€”ã€‚ç¦æ­¢å¤–ä¼ æˆ–å•†ä¸šç”¨é€”ã€‚

---

## ğŸ™‹â€â™‚ï¸ ç»´æŠ¤è€…

* äº§å“è´Ÿè´£äººï¼šè‹å…ˆç”Ÿ
* æŠ€æœ¯è´Ÿè´£äººï¼šFelix Wen
* è®¾è®¡ç³»ç»Ÿï¼šJoincom Design System Team
* æ–‡æ¡£ç»´æŠ¤ï¼šAI Product Copilot (GPTâ€‘5 Codex)

---

> ğŸ§  **æç¤º**ï¼šæ‰€æœ‰é¡µé¢è§„æ ¼ã€OpenAPI ä¸ Mock å‡å·²åˆ†åŒºå®Œå¤‡ï¼Œæ‰§è¡Œ `pnpm run mock` å³å¯åœ¨æœ¬åœ°ä½“éªŒå®Œæ•´çš„æ•°æ®æµå’Œå‰åç«¯äº¤äº’ã€‚
