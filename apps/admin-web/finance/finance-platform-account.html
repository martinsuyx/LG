<!DOCTYPE html>
<html lang="zh-CN"><head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>å¹³å°è´¦æˆ·</title>
<link rel="stylesheet" href="../assets/app.css"/>
</head>
<body>
<div class="layout">
<header><div class="brand">ğŸ”¶ åå°ç®¡ç†å¹³å° <span class="env">Demo</span></div><div class="hint">çº¯å‰ç«¯é™æ€é¢„è§ˆ</div></header>
<aside>
<nav class="menu">
<h4>èµ„é‡‘ä¸è´¦æˆ·</h4>
<a href="./finance-recharge.html">å®¢æˆ·å……å€¼ç®¡ç†</a>
<a href="./finance-company-account.html">å…¬å¸è´¦æˆ·</a>
<a href="./finance-platform-account.html" class="active">å¹³å°è´¦æˆ·</a>
<a href="./finance-settlement-center.html">ç»“ç®—ä¸­å¿ƒ</a>
<a href="./finance-withdraw.html">æç°ç®¡ç†</a>
<a href="./finance-recon-reports.html">å¯¹è´¦æŠ¥è¡¨</a>
<h4>å¯¼èˆª</h4>
<a href="../index.html">è¿”å›é¦–é¡µ</a>
</nav>
</aside>
<main>
<div class="kpis">
<div class="kpi"><div class="title">å¹³å°æ€»ä½™é¢</div><div class="num">Â¥ 18,200,000</div></div>
<div class="kpi"><div class="title">é“¶è¡Œå­è´¦æˆ·</div><div class="num">Â¥ 12,000,000</div></div>
<div class="kpi"><div class="title">ç¬¬ä¸‰æ–¹ä»£ä»˜æ± </div><div class="num">Â¥ 2,200,000</div></div>
</div>
<div class="card">
<div class="toolbar"><div>æ”¯ä»˜é€šé“</div><div><button class="btn" id="btnAdd">æ–°å¢é€šé“</button></div></div>
<div id="tbl"></div>
</div>
</main>
</div>
<div class="drawer"><div class="head"><div>é€šé“é…ç½®</div><div><button class="btn" onclick="closeDrawer()">å…³é—­</button></div></div><div class="body" id="drawerBody"></div></div>
<script src="../assets/app.js"></script>
<script>
const chans=[
{name:'é“¶è¡Œå¯¹å…¬', appid:'ICBC-***', limit:500000, status:'enabled'},
{name:'æ”¯ä»˜å®', appid:'ALIPAY-***', limit:200000, status:'enabled'},
{name:'å¾®ä¿¡æ”¯ä»˜', appid:'WECHAT-***', limit:150000, status:'disabled'},
];
function render(){ $('#tbl').innerHTML = `<table><thead><tr><th>åç§°</th><th>AppId</th><th>å•ç¬”é™é¢</th><th>çŠ¶æ€</th><th>æ“ä½œ</th></tr></thead>
<tbody>${chans.map(c=>`<tr><td>${c.name}</td><td>${c.appid}</td><td class='right'>Â¥ ${c.limit.toLocaleString()}</td>
<td><span class='tag ${c.status==='enabled'?'confirmed':'failed'}'>${c.status}</span></td>
<td><button class='btn' onclick='edit("${c.name}")'>ç¼–è¾‘</button></td></tr>`).join('')}</tbody></table>` }
window.edit=(name)=>{ const c=chans.find(x=>x.name===name); if(!c) return; openDrawer(); $('#drawerBody').innerHTML=`
<div class='desc'><div class='row'><div class='label'>åç§°</div><div class='value'>${c.name}</div></div>
<div class='row'><div class='label'>é™é¢</div><div class='value'><input id='limit' style='height:34px;padding:0 10px;border:1px solid var(--line);border-radius:8px' value='${c.limit}'/></div></div>
<div class='row'><div class='label'>çŠ¶æ€</div><div class='value'><select id='st'><option value='enabled' ${c.status==='enabled'?'selected':''}>å¯ç”¨</option><option value='disabled' ${c.status!=='enabled'?'selected':''}>åœç”¨</option></select></div></div></div>
<div style='margin-top:12px'><button class='btn primary' id='ok'>ä¿å­˜</button> <button class='btn' onclick='closeDrawer()'>å–æ¶ˆ</button></div>`;
$('#ok').onclick=()=>{ c.limit = Number($('#limit').value||c.limit); c.status=$('#st').value; toast('å·²ä¿å­˜','success'); render(); closeDrawer(); }
}
$('#btnAdd').onclick=()=>{ toast('ç¤ºä¾‹ï¼šå¯æ‰©å±•æ–°å¢è¡¨å•','info') }
render();
</script>
</body></html>