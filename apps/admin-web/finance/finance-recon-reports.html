<!DOCTYPE html>
<html lang="zh-CN"><head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>对账报表</title>
<link rel="stylesheet" href="../assets/app.css"/>
</head>
<body>
<div class="layout">
<header><div class="brand">🔶 后台管理平台 <span class="env">Demo</span></div><div class="hint">纯前端静态预览</div></header>
<aside>
<nav class="menu">
<h4>资金与账户</h4>
<a href="./finance-recharge.html">客户充值管理</a>
<a href="./finance-company-account.html">公司账户</a>
<a href="./finance-platform-account.html">平台账户</a>
<a href="./finance-settlement-center.html">结算中心</a>
<a href="./finance-withdraw.html">提现管理</a>
<a href="./finance-recon-reports.html" class="active">对账报表</a>
<h4>导航</h4>
<a href="../index.html">返回首页</a>
</nav>
</aside>
<main>
<div class="card">
<div class="toolbar"><div>对账报表</div><div><button class="btn" id="btnUpload">上传日报/月报</button></div></div>
<div id="tbl"></div>
</div>
</main>
</div>
<div class="drawer"><div class="head"><div>上传报表</div><div><button class="btn" onclick="closeDrawer()">关闭</button></div></div><div class="body" id="drawerBody"></div></div>
<script type="module">
import { $, openDrawer, closeDrawer, toast } from '../assets/app.js';
const reports=[
{id:'R-3001', activity:'广州移动', brand:'CM', period:'2025-09-20(日)', state:'parsed', summary:'总行: 120, 错误: 2'},
{id:'R-3002', activity:'广州电信', brand:'CT', period:'2025-09(月)', state:'uploaded', summary:'待解析'},
];
function render(){ $('#tbl').innerHTML = `<table><thead><tr>
<th>报表ID</th><th>活动</th><th>品牌</th><th>账期</th><th>状态</th><th>解析摘要</th><th>操作</th>
</tr></thead><tbody>${reports.map(r=>`<tr><td>${r.id}</td><td>${r.activity}</td><td>${r.brand}</td><td>${r.period}</td>
<td><span class='tag ${r.state==='parsed'?'confirmed':'pending'}'>${r.state}</span></td><td>${r.summary}</td>
<td><button class='btn'>查看</button></td></tr>`).join('')}</tbody></table>` }
$('#btnUpload').onclick=()=>{ openDrawer(); $('#drawerBody').innerHTML=`
<div class='desc'>
<div class='row'><div class='label'>活动</div><div class='value'><input id='act' style='height:34px;padding:0 10px;border:1px solid var(--line);border-radius:8px' placeholder='活动名称'/></div></div>
<div class='row'><div class='label'>账期</div><div class='value'><input id='prd' style='height:34px;padding:0 10px;border:1px solid var(--line);border-radius:8px' placeholder='如 2025-09-20(日)'/></div></div>
<div class='row'><div class='label'>文件</div><div class='value'><input type='file'/></div></div>
</div>
<div style='margin-top:12px'><button class='btn primary' id='ok'>提交</button> <button class='btn' onclick='closeDrawer()'>取消</button></div>`;
$('#ok').onclick=()=>{ reports.unshift({id:'R-'+Math.floor(Math.random()*1e5), activity:$('#act').value||'演示活动', brand:'Demo', period:$('#prd').value||'—', state:'uploaded', summary:'待解析'}); toast('已上传','success'); render(); closeDrawer(); }
}
render();
</script>
</body></html>