<!DOCTYPE html>
<html lang="zh-CN"><head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>å¯¹è´¦æŠ¥è¡¨</title>
<link rel="stylesheet" href="../assets/app.css"/>
</head>
<body>
<div class="layout">
<header><div class="brand">ğŸ”¶ åå°ç®¡ç†å¹³å° <span class="env">Demo</span></div><div class="hint">çº¯å‰ç«¯é™æ€é¢„è§ˆ</div></header>
<aside>
<nav class="menu">
<h4>èµ„é‡‘ä¸è´¦æˆ·</h4>
<a href="./finance-recharge.html">å®¢æˆ·å……å€¼ç®¡ç†</a>
<a href="./finance-company-account.html">å…¬å¸è´¦æˆ·</a>
<a href="./finance-platform-account.html">å¹³å°è´¦æˆ·</a>
<a href="./finance-settlement-center.html">ç»“ç®—ä¸­å¿ƒ</a>
<a href="./finance-withdraw.html">æç°ç®¡ç†</a>
<a href="./finance-recon-reports.html" class="active">å¯¹è´¦æŠ¥è¡¨</a>
<h4>å¯¼èˆª</h4>
<a href="../index.html">è¿”å›é¦–é¡µ</a>
</nav>
</aside>
<main>
<div class="card">
<div class="toolbar"><div>å¯¹è´¦æŠ¥è¡¨</div><div><button class="btn" id="btnUpload">ä¸Šä¼ æ—¥æŠ¥/æœˆæŠ¥</button></div></div>
<div id="tbl"></div>
</div>
</main>
</div>
<div class="drawer"><div class="head"><div>ä¸Šä¼ æŠ¥è¡¨</div><div><button class="btn" onclick="closeDrawer()">å…³é—­</button></div></div><div class="body" id="drawerBody"></div></div>
<script type="module">
import { $, openDrawer, closeDrawer, toast } from '../assets/app.js';
const reports=[
{id:'R-3001', activity:'å¹¿å·ç§»åŠ¨', brand:'CM', period:'2025-09-20(æ—¥)', state:'parsed', summary:'æ€»è¡Œ: 120, é”™è¯¯: 2'},
{id:'R-3002', activity:'å¹¿å·ç”µä¿¡', brand:'CT', period:'2025-09(æœˆ)', state:'uploaded', summary:'å¾…è§£æ'},
];
function render(){ $('#tbl').innerHTML = `<table><thead><tr>
<th>æŠ¥è¡¨ID</th><th>æ´»åŠ¨</th><th>å“ç‰Œ</th><th>è´¦æœŸ</th><th>çŠ¶æ€</th><th>è§£ææ‘˜è¦</th><th>æ“ä½œ</th>
</tr></thead><tbody>${reports.map(r=>`<tr><td>${r.id}</td><td>${r.activity}</td><td>${r.brand}</td><td>${r.period}</td>
<td><span class='tag ${r.state==='parsed'?'confirmed':'pending'}'>${r.state}</span></td><td>${r.summary}</td>
<td><button class='btn'>æŸ¥çœ‹</button></td></tr>`).join('')}</tbody></table>` }
$('#btnUpload').onclick=()=>{ openDrawer(); $('#drawerBody').innerHTML=`
<div class='desc'>
<div class='row'><div class='label'>æ´»åŠ¨</div><div class='value'><input id='act' style='height:34px;padding:0 10px;border:1px solid var(--line);border-radius:8px' placeholder='æ´»åŠ¨åç§°'/></div></div>
<div class='row'><div class='label'>è´¦æœŸ</div><div class='value'><input id='prd' style='height:34px;padding:0 10px;border:1px solid var(--line);border-radius:8px' placeholder='å¦‚ 2025-09-20(æ—¥)'/></div></div>
<div class='row'><div class='label'>æ–‡ä»¶</div><div class='value'><input type='file'/></div></div>
</div>
<div style='margin-top:12px'><button class='btn primary' id='ok'>æäº¤</button> <button class='btn' onclick='closeDrawer()'>å–æ¶ˆ</button></div>`;
$('#ok').onclick=()=>{ reports.unshift({id:'R-'+Math.floor(Math.random()*1e5), activity:$('#act').value||'æ¼”ç¤ºæ´»åŠ¨', brand:'Demo', period:$('#prd').value||'â€”', state:'uploaded', summary:'å¾…è§£æ'}); toast('å·²ä¸Šä¼ ','success'); render(); closeDrawer(); }
}
render();
</script>
</body></html>