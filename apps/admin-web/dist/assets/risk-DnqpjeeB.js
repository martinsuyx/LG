import{O as p}from"./index-DvtP9USg.js";function r(){return{"Content-Type":"application/json",...p.HEADERS||{}}}function n(e,s){var i;const t=((i=p.BASE)==null?void 0:i.replace(/\/$/,""))||"";if(!s||Object.keys(s).length===0)return`${t}${e}`;const a=new URLSearchParams;Object.entries(s).forEach(([y,c])=>{if(!(c==null||c==="")){if(Array.isArray(c)){c.length&&a.append(y,c.join(","));return}a.append(y,String(c))}});const u=a.toString();return u?`${t}${e}?${u}`:`${t}${e}`}async function o(e,s){const t=await fetch(e,s);if(!t.ok){let u=`Request failed with ${t.status}`,i=null;const y=t.headers.get("content-type")||"";try{if(y.includes("application/json")){if(i=await t.json(),i&&typeof i=="object"&&"message"in i){const d=i.message;typeof d=="string"&&d.trim().length&&(u=d)}}else{const d=await t.text();d.trim().length&&(u=d)}}catch{}const c=new Error(u);throw i&&typeof i=="object"&&Object.assign(c,{details:i}),c}return t.status===204?void 0:(t.headers.get("content-type")||"").includes("application/json")?await t.json():await t.text()}const l={async listHits(e){const s=n("/api/v1/risk/hits",e);return o(s,{method:"GET",headers:r()})},async getHitDetail(e){const s=n(`/api/v1/risk/hits/${encodeURIComponent(e)}`);return o(s,{method:"GET",headers:r()})},async batchIgnore(e){const s=n("/api/v1/risk/hits/batch_ignore");return o(s,{method:"POST",headers:r(),body:JSON.stringify(e)})},async createTicket(e){const s=n("/api/v1/risk/tickets");return o(s,{method:"POST",headers:r(),body:JSON.stringify(e)})},async exportHits(e){const s=n("/api/v1/exports/risk-hits");return o(s,{method:"POST",headers:r(),body:JSON.stringify(e)})}},m={async listTickets(e){const s=n("/api/v1/risk/tickets",e||{});return o(s,{method:"GET",headers:r()})},async getTicketDetail(e){const s=n(`/api/v1/risk/tickets/${encodeURIComponent(e)}`);return o(s,{method:"GET",headers:r()})},async transition(e,s,t){const a=n(`/api/v1/risk/tickets/${encodeURIComponent(e)}/${s}`);return o(a,{method:"POST",headers:r(),body:t?JSON.stringify(t):void 0})}},k={async list(e){const s=n("/api/v1/risk/lists",e||{});return o(s,{method:"GET",headers:r()})},async getDetail(e){const s=n(`/api/v1/risk/lists/${encodeURIComponent(e)}`);return o(s,{method:"GET",headers:r()})},async create(e){const s=n("/api/v1/risk/lists");return o(s,{method:"POST",headers:r(),body:JSON.stringify(e)})},async import(e){const s=n("/api/v1/risk/lists/import");return o(s,{method:"POST",headers:r(),body:JSON.stringify(e)})},async getImportTask(e){const s=n(`/api/v1/risk/lists/import/${encodeURIComponent(e)}`);return o(s,{method:"GET",headers:r()})},async previewDedup(e){const s=n("/api/v1/risk/lists/dedup_preview");return o(s,{method:"POST",headers:r(),body:JSON.stringify(e)})}},S={async list(e){const s=n("/api/v1/risk/rules",e||{});return o(s,{method:"GET",headers:r()})},async getDetail(e){const s=n(`/api/v1/risk/rules/${encodeURIComponent(e)}`);return o(s,{method:"GET",headers:r()})},async save(e,s){if(e){const a=n(`/api/v1/risk/rules/${encodeURIComponent(e)}`);return o(a,{method:"PUT",headers:r(),body:JSON.stringify(s)})}const t=n("/api/v1/risk/rules");return o(t,{method:"POST",headers:r(),body:JSON.stringify(s)})},async simulate(e,s){const t=n(`/api/v1/risk/rules/${encodeURIComponent(e)}/simulate`);return o(t,{method:"POST",headers:r(),body:JSON.stringify(s)})},async publish(e,s){const t=n(`/api/v1/risk/rules/${encodeURIComponent(e)}/publish`);return o(t,{method:"POST",headers:r(),body:JSON.stringify(s)})},async replay(e,s){const t=n(`/api/v1/risk/rules/${encodeURIComponent(e)}/replay`);return o(t,{method:"POST",headers:r(),body:JSON.stringify(s)})}},g={async list(e){const s=n("/api/v1/kyc/cases",e||{});return o(s,{method:"GET",headers:r()})},async getDetail(e){const s=n(`/api/v1/kyc/cases/${encodeURIComponent(e)}`);return o(s,{method:"GET",headers:r()})},async assign(e,s){const t=n(`/api/v1/kyc/cases/${encodeURIComponent(e)}/assign`);return o(t,{method:"POST",headers:r(),body:JSON.stringify({assignee_id:s})})},async approve(e,s){const t=n(`/api/v1/kyc/cases/${encodeURIComponent(e)}/approve`);return o(t,{method:"POST",headers:r(),body:JSON.stringify(s||{})})},async reject(e,s){const t=n(`/api/v1/kyc/cases/${encodeURIComponent(e)}/reject`);return o(t,{method:"POST",headers:r(),body:JSON.stringify(s)})},async requestMore(e,s){const t=n(`/api/v1/kyc/cases/${encodeURIComponent(e)}/request_more`);return o(t,{method:"POST",headers:r(),body:JSON.stringify(s)})},async syncCallback(e){const s=n(`/api/v1/kyc/cases/${encodeURIComponent(e)}/sync_callback`);return o(s,{method:"POST",headers:r()})},async exportCases(e){const s=n("/api/v1/exports/kyc-cases");return o(s,{method:"POST",headers:r(),body:JSON.stringify(e)})}};export{g as K,l as R,m as a,k as b,S as c};
