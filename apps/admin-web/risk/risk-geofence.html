<!DOCTYPE html>
<html lang="zh-CN"><head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>地理围栏</title>
<link rel="stylesheet" href="../assets/app.css"/>
</head>
<body>
<div class="layout">
<header><div class="brand">🔶 后台管理平台 <span class="env">Demo</span></div><div class="hint">地理围栏 Demo（地图占位）</div></header>
<aside>
<nav class="menu">
<h4>风控与合规</h4>
<a href="./risk-rules.html">规则库</a>
<a href="./risk-lists.html">黑白名单</a>
<a href="./risk-devices.html">设备画像</a>
<a href="./risk-geofence.html" class="active">地理围栏</a>
<a href="./risk-monitor.html">监控看板</a>
<a href="./risk-tickets.html">命中工单</a>
<a href="./appeals.html">申诉与复核</a>
<a href="./kyc-review.html">KYC 审核</a>
<a href="./esign.html">电子签约</a>
<h4>导航</h4>
<a href="../index.html">返回首页</a>
</nav>
</aside>
<main>
<div class="card">
<div class="toolbar"><div>围栏列表</div><div><button class="btn" id="btnAdd">新增围栏</button></div></div>
<div id="tbl"></div>
</div>
<div class="card" style="margin-top:16px">
<div class="toolbar"><div>地图占位</div></div>
<div style="height:240px;background:#EEF2FF;border:1px solid var(--line);border-radius:10px;margin:12px">地图（此处可接真实 SDK）</div>
</div>
</main>
</div>
<script type="module">
import { $, toast } from '../assets/app.js';
const fences=[{id:'F-1', name:'广州一期围栏', status:'active'},{id:'F-2', name:'深圳一期围栏', status:'inactive'}];
function tag(s){return `<span class='tag ${s==='active'?'confirmed':'failed'}'>${s}</span>`}
function render(){ $('#tbl').innerHTML=`<table><thead><tr><th>ID</th><th>名称</th><th>状态</th><th>操作</th></tr></thead>
<tbody>${fences.map(f=>`<tr><td>${f.id}</td><td>${f.name}</td><td>${tag(f.status)}</td><td><button class='btn' onclick='toggle("${f.id}")'>启停</button></td></tr>`).join('')}</tbody></table>` }
window.toggle=(id)=>{ const f=fences.find(x=>x.id===id); f.status=f.status==='active'?'inactive':'active'; toast('已更新 '+id,'success'); render(); }
$('#btnAdd').onclick=()=>{ fences.unshift({id:'F-'+Math.floor(Math.random()*1e5),name:'新围栏',status:'inactive'}); render(); }
render();
</script>
</body></html>