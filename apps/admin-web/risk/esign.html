<!DOCTYPE html>
<html lang="zh-CN"><head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>ç”µå­ç­¾çº¦ç®¡ç†</title>
<link rel="stylesheet" href="../assets/app.css"/>
</head>
<body>
<div class="layout">
<header><div class="brand">ğŸ”¶ åå°ç®¡ç†å¹³å° <span class="env">Demo</span></div><div class="hint">ç”µå­ç­¾çº¦ Demo</div></header>
<aside>
<nav class="menu">
<h4>é£æ§ä¸åˆè§„</h4>
<a href="./esign.html" class="active">ç”µå­ç­¾çº¦</a>
<a href="./risk-rules.html">è§„åˆ™åº“</a>
<a href="./kyc-review.html">KYC å®¡æ ¸</a>
<h4>å¯¼èˆª</h4>
<a href="../index.html">è¿”å›é¦–é¡µ</a>
</nav>
</aside>
<main>
<div class="card">
<div class="toolbar"><div>åˆåŒåˆ—è¡¨</div></div>
<div id="tbl"></div>
</div>
</main>
</div>
<script type="module">
import { $, toast } from '../assets/app.js';
const cons=[
{id:'E-1', tpl:'é—¨åº—åˆä½œåè®®', scope:'store', target:'é—¨åº—A', status:'pending', signed_at:'â€”'},
{id:'E-2', tpl:'å¹³å°æœåŠ¡åè®®', scope:'user', target:'U-1001', status:'signed', signed_at:'2025-09-10'},
];
function tag(s){return `<span class='tag ${s==='signed'?'confirmed':s==='pending'?'pending':'failed'}'>${s}</span>`}
function render(){ $('#tbl').innerHTML=`<table><thead><tr>
<th>åˆåŒID</th><th>æ¨¡æ¿</th><th>èŒƒå›´</th><th>å¯¹è±¡</th><th>çŠ¶æ€</th><th>ç­¾ç½²æ—¶é—´</th><th>æ“ä½œ</th>
</tr></thead><tbody>${cons.map(c=>`<tr>
<td>${c.id}</td><td>${c.tpl}</td><td>${c.scope}</td><td>${c.target}</td><td>${tag(c.status)}</td><td>${c.signed_at}</td>
<td>${c.status==='pending'?`<button class='btn' onclick='reSend("${c.id}")'>é‡æ–°å‘é€</button>`:''} <button class='btn danger' onclick='invalidate("${c.id}")'>ä½œåºŸ</button></td>
</tr>`).join('')}</tbody></table>` }
window.reSend=(id)=>{ toast('å·²é‡æ–°å‘é€ Â· '+id,'success') }
window.invalidate=(id)=>{ toast('å·²ä½œåºŸ Â· '+id,'error') }
render();
</script>
</body></html>