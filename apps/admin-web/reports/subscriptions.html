<!DOCTYPE html>
<html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>æŠ¥è¡¨è®¢é˜…</title><link rel="stylesheet" href="../assets/app.css"/></head>
<body><div class="layout">
<header><div class="brand">ğŸ”¶ åå° <span class="env">Demo</span></div><div class="hint">æŠ¥è¡¨è®¢é˜…</div></header>
<aside><nav class="menu">
<h4>æŠ¥è¡¨ä¸æ€»è§ˆ</h4>
<a href="./subscriptions.html" class="active">æŠ¥è¡¨è®¢é˜…</a>
<a href="./dashboards.html">æ€»è§ˆçœ‹æ¿</a>
<h4>å¯¼èˆª</h4><a href="../index.html">è¿”å›é¦–é¡µ</a>
</nav></aside>
<main>
<div class="card"><div class="toolbar"><div>è®¢é˜…åˆ—è¡¨</div><div><button class="btn" id="btnNew">æ–°å»ºè®¢é˜…</button></div></div>
<div id="tbl" style="padding:12px"></div>
</div>
</main></div>
<script type="module">import { $ , openDrawer, closeDrawer, toast } from '../assets/app.js';
let subs=[{id:'S-1', name:'è´¢åŠ¡æ—¥æŠ¥', freq:'daily', to:'ops@example.com', state:'enabled'}];
function tag(s){return `<span class='tag ${s==='enabled'?'confirmed':'failed'}'>${s}</span>`}
function render(){ document.querySelector('#tbl').innerHTML=`<table><thead><tr><th>è®¢é˜…ID</th><th>åç§°</th><th>é¢‘ç‡</th><th>æ”¶ä»¶äºº</th><th>çŠ¶æ€</th><th>æ“ä½œ</th></tr></thead>
<tbody>${subs.map(s=>`<tr><td>${s.id}</td><td>${s.name}</td><td>${s.freq}</td><td>${s.to}</td><td>${tag(s.state)}</td><td><button class='btn' onclick='disable("${s.id}")'>åœç”¨</button></td></tr>`).join('')}</tbody></table>` }
window.disable=(id)=>{ const s=subs.find(x=>x.id===id); s.state='disabled'; toast('å·²åœç”¨','success'); render(); }
render();
</script>
</body></html>