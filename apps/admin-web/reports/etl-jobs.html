<!DOCTYPE html>
<html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>æ•°æ®æºç®¡ç†</title><link rel="stylesheet" href="../assets/app.css"/></head>
<body><div class="layout">
<header><div class="brand">ğŸ”¶ åå° <span class="env">Demo</span></div><div class="hint">æ•°æ®æºç®¡ç†</div></header>
<aside><nav class="menu">
<h4>æŠ¥è¡¨ä¸æ€»è§ˆ</h4>
<a href="./etl-jobs.html" class="active">æ•°æ®æºç®¡ç†</a>
<a href="./dashboards.html">æ€»è§ˆçœ‹æ¿</a>
<h4>å¯¼èˆª</h4><a href="../index.html">è¿”å›é¦–é¡µ</a>
</nav></aside>
<main>
<div class="card"><div class="toolbar"><div>ETL ä»»åŠ¡</div></div>
<div id="tbl" style="padding:12px"></div>
</div>
</main></div>
<script type="module">import { $ , toast } from '../assets/app.js';
const jobs=[{id:'ETL-1', type:'è®¢å•èšåˆ', delay:12, state:'running'},{id:'ETL-2', type:'èµ„é‡‘èšåˆ', delay:30, state:'failed'}];
function tag(s){return `<span class='tag ${s==='running'?'confirmed':s==='failed'?'failed':'pending'}'>${s}</span>`}
function render(){ document.querySelector('#tbl').innerHTML=`<table><thead><tr><th>ä»»åŠ¡ID</th><th>ç±»å‹</th><th>å»¶è¿Ÿ(s)</th><th>çŠ¶æ€</th><th>æ“ä½œ</th></tr></thead>
<tbody>${jobs.map(j=>`<tr><td>${j.id}</td><td>${j.type}</td><td>${j.delay}</td><td>${tag(j.state)}</td>
<td>${j.state!=='running'?`<button class='btn' onclick='retry("${j.id}")'>é‡ç®—</button>`:''} <button class='btn' onclick='stop("${j.id}")'>åœç”¨</button></td></tr>`).join('')}</tbody></table>` }
window.retry=(id)=>{ toast('å·²è§¦å‘é‡ç®— Â· '+id,'success') }
window.stop=(id)=>{ toast('å·²åœç”¨ Â· '+id,'success') }
render();
</script>
</body></html>